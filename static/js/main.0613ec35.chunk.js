(this.webpackJsonpFetch=this.webpackJsonpFetch||[]).push([[0],{44:function(e,t,a){e.exports=a(58)},49:function(e,t,a){},50:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),c=a.n(o),i=(a(49),a(12)),l=a(30),s=a(18),p=a(3),u=a(4),m=a(6),h=a(5),d=a(7),g=(a(50),a(11)),f=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"welcome"},r.a.createElement("h1",{className:"create_experience"},"Create your personalized",r.a.createElement("br",null),"news experience"),r.a.createElement("div",{className:"notbrands"},r.a.createElement("p",{className:"bigtime"},r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/search.png",width:"120px",alt:"search"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Find Articles"),r.a.createElement("br",null),"Create topics that you are interested",r.a.createElement("br",null)," in and we will do the rest."),r.a.createElement("p",{className:"bigtime"},r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/globe.png",width:"120px",alt:"globe"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Select Language"),r.a.createElement("br",null),"Need your news in a different language?",r.a.createElement("br",null),"Select from other 10 languages."),r.a.createElement("p",{className:"bigtime"},r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/monitor.png",width:"120px",alt:"monitor"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Customize Results"),r.a.createElement("br",null),"Don't like a certain article in your feed?",r.a.createElement("br",null)," No worries! Just click the x icon.")),r.a.createElement("div",{className:"brands"},r.a.createElement("h1",null,"Sources we use:"),r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/cnn.png",width:"100px",alt:"cnn"}),r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/fox.png",width:"200px",alt:"fox"}),r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/bbc.png",width:"130px",alt:"bbc"}),"& More..."),r.a.createElement("h1",{className:"finalh1"},"Join Today"),r.a.createElement("div",{className:"align-buttons"},r.a.createElement("p",{className:"coolbutton"},r.a.createElement(g.b,{to:"/Fetch/signup"},"Signup")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))}}]),t}(n.Component),b=a(60),E=a(38),y=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).handleChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.state={username:"",password:""},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"logincontainer"},r.a.createElement("h2",null,"Login"),r.a.createElement("div",{className:"loginFormlife",align:"center"},r.a.createElement(b.a,{onSubmit:function(t){e.props.handleLoginSubmit(t,e.state)}},r.a.createElement(b.a.Group,{controlId:"formBasicEmail"},r.a.createElement(b.a.Control,{type:"text",name:"username",placeholder:"Username",onChange:function(t){return e.handleChange(t)},value:this.state.username})),r.a.createElement("br",null),r.a.createElement(b.a.Group,{controlId:"formBasicLoginPassword"},r.a.createElement(b.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:function(t){return e.handleChange(t)},value:this.state.password})),r.a.createElement(E.a,{variant:"primary-submit",type:"submit"},"Login")),r.a.createElement("p",{id:"login-error"})))}}]),t}(n.Component),v=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).handleChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.state={first_name:"",last_name:"",username:"",password:"",password_confirmation:""},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"logincontainer"},r.a.createElement("h3",null,"Create your account"),r.a.createElement("div",{className:"Formlife",align:"center"},r.a.createElement(b.a,{onSubmit:function(t){e.props.handleSignupSubmit(t,e.state)}},r.a.createElement("div",{className:"signupstuff"},r.a.createElement(b.a.Group,{controlId:"formBasicFirstName"},r.a.createElement(b.a.Control,{type:"text",name:"first_name",placeholder:"First Name",onChange:function(t){return e.handleChange(t)},value:this.state.first_name})),r.a.createElement(b.a.Group,{controlId:"formBasicLastName"},r.a.createElement(b.a.Control,{type:"text",name:"last_name",placeholder:"Last Name",onChange:function(t){return e.handleChange(t)},value:this.state.last_name}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(b.a.Group,{controlId:"formBasicUsername"},r.a.createElement(b.a.Control,{type:"text",name:"username",placeholder:"Username*",onChange:function(t){return e.handleChange(t)},value:this.state.username})),r.a.createElement("br",null),r.a.createElement(b.a.Group,{controlId:"formBasicPassword"},r.a.createElement(b.a.Control,{type:"password",name:"password",placeholder:"Password *",onChange:function(t){return e.handleChange(t)},value:this.state.password})),r.a.createElement("br",null),r.a.createElement(b.a.Group,{controlId:"formBasicPasswordConfirm"},r.a.createElement(b.a.Control,{type:"password",name:"password_confirmation",placeholder:"Confirm Password *",onChange:function(t){return e.handleChange(t)},value:this.state.password_confirmation})),r.a.createElement(E.a,{variant:"primary-submit",type:"submit"},"Next")),r.a.createElement("p",{id:"login-error"})))}}]),t}(n.Component),j=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).state={favorite:!1},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t=this;e=!0===this.state.favorite?"https://aryaziai.github.io/Fetch/heart.png":"https://aryaziai.github.io/Fetch/unheart.png";var a=this.props.topicsFollowed.find((function(e){return e.id===t.props.topicPost.topic_id}));return r.a.createElement("div",{className:"newmain"},r.a.createElement("img",{src:a.logo,alt:"topic_logo",className:"feeditemslogo"}),r.a.createElement("div",{className:"caption"},r.a.createElement("b",null,"#",a.topic_title),r.a.createElement("button",{id:this.props.topicPost.id,onClick:function(e){return t.props.deletePostFromTopic(e)},className:"xOut"},"x"),r.a.createElement("p",{className:"date"},"Published on"," ",new Date(this.props.topicPost.published_at).toString()),r.a.createElement("br",null),this.props.topicPost.caption,r.a.createElement("br",null)," ",r.a.createElement("a",{href:this.props.topicPost.url,className:"post_link",target:"_blank",rel:"noopener noreferrer"},this.props.topicPost.url)," "),r.a.createElement("a",{href:this.props.topicPost.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:this.props.topicPost.image_url,alt:"news_image",className:"postImage"})),r.a.createElement("br",null),r.a.createElement("div",{className:"bottomofCard"},r.a.createElement("p",{className:"favorite"},r.a.createElement("img",{src:e,alt:"favorite",name:"favorite",className:"favorite",onClick:this.toggleImage}),"Favorite",r.a.createElement("a",{href:"sms:Text Someone&body=".concat(this.props.topicPost.caption,"%0D%0A%0D%0A").concat(this.props.topicPost.url)},r.a.createElement("img",{src:"https://cdn2.iconfinder.com/data/icons/ios-7-icons/50/speech_bubble-512.png",alt:"imessage",name:"imessage",className:"iMessage"}),"iMessage"),r.a.createElement("a",{href:"mailto:?subject=".concat(this.props.topicPost.caption,"&body=Hey you!%0D%0A%0D%0ACheck out this cool article I found on Fetch:%0D%0A%0D%0A").concat(this.props.topicPost.url)},r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/mail.png",alt:"email",className:"email"}),"Email")),r.a.createElement("p",{className:"sourceinfo"},"Source: ",this.props.topicPost.source)))}}]),t}(n.Component),C=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.location.pathname.split("/").slice(-1)[0],n=this.props.topicsFollowed.find((function(e){return e.topic_title.toLowerCase()===a}));return n&&(e=this.props.allTopicPosts.filter((function(e){return n.id===e.topic_id}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mainfeedtitle"},"#",a,n?r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/x.png",className:"deletetopic",alt:"feedicon",onClick:this.props.deleteTopic,id:n.id,key:n.id}):null),r.a.createElement("div",{className:"drop"}),n?e.map((function(e){return r.a.createElement(j,{topicsFollowed:t.props.topicsFollowed,topicPost:e,deletePostFromTopic:t.props.deletePostFromTopic})})):null)}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).toggleImage=function(){a.setState((function(e){return{plus:!e.plus}}))},a.handleChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.avoidSpace=function(e){(" "===e.key||e.key>=0||e.key<10)&&e.preventDefault()},a.showImage=function(){!0===a.state.toggleUpload?a.setState({toggleUpload:!1}):a.setState({toggleUpload:!0})},a.state={topic_title:"",page_size:5,language:"en",plus:!0,sort_by:"relevancy",logo:"https://aryaziai.github.io/Fetch/missing.png",user_id:e.currentUser.id,toggleUpload:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t=this;return e=!0===this.state.plus?"https://aryaziai.github.io/Fetch/toggleon.png":"https://aryaziai.github.io/Fetch/toggleoff.png",r.a.createElement("div",null,r.a.createElement("h2",{className:"addtopictitle"},"Add a New Topic"),r.a.createElement("br",null),r.a.createElement("div",{className:"add-topic"},r.a.createElement(b.a,{onSubmit:function(e){t.props.handleSubmitTopic(e,t.state)}},r.a.createElement(b.a.Group,{controlId:"formBasicTopicTitle"},r.a.createElement("p",{className:"hashtag"},"#"),r.a.createElement(b.a.Control,{type:"text",name:"topic_title",placeholder:"TopicTitle",onKeyPress:function(e){return t.avoidSpace(e)},onChange:function(e){return t.handleChange(e)},value:this.state.topic_title})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",{className:"addtopiclogo"},"Add Logo"),r.a.createElement("br",null),r.a.createElement("img",{src:this.state.logo,name:"logo",className:"missing",alt:"missing",id:"on",value:"/missing.png"}),!0===this.state.toggleUpload?r.a.createElement("div",{className:"upload_image"},r.a.createElement(b.a.Group,{controlId:"formBasicTopicLogo"},r.a.createElement(b.a.Control,{type:"text",name:"logo",placeholder:"Insert Logo URL",onKeyPress:function(e){return t.avoidSpace(e)},onChange:function(e){return t.handleChange(e)}}))):null,r.a.createElement("p",{onClick:function(e){return t.showImage(e)},className:"uploadimage"},"Upload File"),r.a.createElement("br",null)," ",r.a.createElement("h2",{className:"addsourcehandle"},"Language"),r.a.createElement("p",{className:"handleLife"},r.a.createElement("select",{value:this.state.language,className:"language",name:"language",onChange:function(e){return t.handleChange(e)}},r.a.createElement("option",{value:"en"},"English"),r.a.createElement("option",{value:"ar"},"Arabic"),r.a.createElement("option",{value:"de"},"German"),r.a.createElement("option",{value:"es"},"Spanish"),r.a.createElement("option",{value:"fr"},"French"),r.a.createElement("option",{value:"it"},"Italian"),r.a.createElement("option",{value:"nl"},"Dutch"),r.a.createElement("option",{value:"pt"},"Portuguese"),r.a.createElement("option",{value:"ru"},"Russian"),r.a.createElement("option",{value:"zh"},"Zh\u014dngw\xe9n"))),r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("h2",{className:"addsourcehandle"},"Sort By"),r.a.createElement("p",{className:"handleLife"},r.a.createElement("select",{value:this.state.sort_by,className:"sort_by",name:"sort_by",onChange:function(e){return t.handleChange(e)}},r.a.createElement("option",{value:"relevancy"},"Relevance"),r.a.createElement("option",{value:"publishedAt"},"Latest"),r.a.createElement("option",{value:"popularity"},"Popular"))),r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("h2",{className:"addsourcehandle"},"Results"),r.a.createElement("p",{className:"handleLife"},r.a.createElement("select",{value:this.state.page_size,className:"page_size",name:"page_size",onChange:function(e){return t.handleChange(e)}},r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"15"},"15"),r.a.createElement("option",{value:"20"},"20"))),r.a.createElement("br",null),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{className:"handleLife"},r.a.createElement("img",{src:e,alt:"relatednews",name:"plus",className:"toggleHandle",onClick:this.toggleImage}),"Results must include topic title"),r.a.createElement("br",null),r.a.createElement("div",{className:"submitTopic"},r.a.createElement("button",{onClick:function(){return t.props.history.push("/Fetch/feed")},className:"submitTopic-btton-nevermind"},"Nevermind"),r.a.createElement("button",{className:"submitTopic-btton"},"Create Topic"),r.a.createElement("br",null)))))}}]),t}(n.Component),N=a(17),O=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).handleChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.handleEditProfile=function(t,a){t.preventDefault(),fetch("https://fetch-backend-api.herokuapp.com/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:a,id:e.props.currentUser.id})}).then((function(e){return e.json()})).then((function(t){t.error?document.getElementById("login-error").innerText=t.error:(localStorage.setItem("token",t.jwt),e.setState({currentUser:Object(s.a)({id:t.id},t)}),e.props.history.push("/Fetch/feed"))}))},e.handleDeleteProfile=function(t){t.preventDefault(),fetch("https://fetch-backend-api.herokuapp.com/users/".concat(e.props.currentUser.id),{method:"delete",headers:{"Content-Type":"application/json"},Authorization:localStorage.getItem("token")}).then((function(e){return e.json()})).then((function(t){t.error?window.alert(t.error):(e.props.handleLogout(),window.alert("Successfully Deleted"))}))},e.state={currentUser:null,first_name:"",last_name:"",username:"",password:"",password_confirmation:""},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({currentUser:this.props.currentUser})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"logincontainer"},r.a.createElement("div",{className:"editprofile"},r.a.createElement("h2",null,"Edit Profile"),r.a.createElement("div",{className:"EditFormlife",align:"center"},r.a.createElement(b.a,{onSubmit:function(t){e.handleEditProfile(t,e.state)}},r.a.createElement("div",{className:"signupstuff"},r.a.createElement(b.a.Group,{controlId:"formBasicUpdateFirstName"},r.a.createElement(b.a.Control,{type:"text",name:"first_name",placeholder:this.props.currentUser.first_name,onChange:function(t){return e.handleChange(t)},value:this.state.first_name})),r.a.createElement(b.a.Group,{controlId:"formBasicUpdateLastName"},r.a.createElement(b.a.Control,{type:"text",name:"last_name",placeholder:this.props.currentUser.last_name,onChange:function(t){return e.handleChange(t)},value:this.state.last_name}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(b.a.Group,{controlId:"formBasicUsername"},r.a.createElement(b.a.Control,{type:"text",name:"username",placeholder:this.props.currentUser.username,onChange:function(t){return e.handleChange(t)},value:this.state.username})),r.a.createElement("br",null),r.a.createElement(b.a.Group,{controlId:"formBasicPassword"},r.a.createElement(b.a.Control,{type:"password",name:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022",onChange:function(t){return e.handleChange(t)},value:this.state.password})),r.a.createElement("br",null),r.a.createElement(b.a.Group,{controlId:"formBasicPasswordConfirm"},r.a.createElement(b.a.Control,{type:"password",name:"password_confirmation",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022",onChange:function(t){return e.handleChange(t)},value:this.state.password_confirmation})),r.a.createElement("div",{className:"editprofilebuttons"},r.a.createElement("button",{onClick:function(t){return e.handleDeleteProfile(t)},className:"submitTopic-btton-delete"},"Delete"),r.a.createElement("button",{onClick:function(){return window.alert("Successfully Updated")},className:"submitTopic-btton"},"Update"),r.a.createElement("p",{id:"login-error"}))))))}}]),t}(n.Component),k=Object(N.g)(O),P=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("p",{className:"sidebaritems",onClick:function(){return e.props.history.push("/Fetch/topic/".concat(e.props.topic.topic_title.toLowerCase()))}},r.a.createElement("img",{src:this.props.topic.logo,alt:"topic_logo"})," #",this.props.topic.topic_title)}}]),t}(n.Component),S=Object(N.g)(P),w=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("token")&&fetch("https://fetch-backend-api.herokuapp.com/users/".concat(this.props.currentUser.id),{method:"GET",headers:{Authorization:localStorage.getItem("token"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.props.updateStateOfTopicsFollowed(t.user.topics)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{className:"addtopicstuff"},r.a.createElement("h3",null,"Topics You Follow"),null!==this.props.topicsFollowed?this.props.topicsFollowed.map((function(e){return r.a.createElement(S,{topic:e,key:e.id})})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"lds-dual-ring"})),r.a.createElement("p",{className:"addnewsidebaritems",onClick:function(){return e.props.history.push("/Fetch/add-topic")}}," ",r.a.createElement("img",{src:"https://friconix.com/png/fi-xtluxx-plus-thin.png",alt:"Add Topic",className:"addMore"}),"Add a New Topic"," ")))}}]),t}(n.Component),T=Object(N.g)(w),_=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).toggleImage=function(){e.setState((function(e){return{favorite:!e.favorite}}))},e.state={favorite:!1},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t=this;e=!0===this.state.favorite?"https://aryaziai.github.io/Fetch/heart.png":"https://aryaziai.github.io/Fetch/unheart.png";var a=this.props.location.pathname.split("/").slice(-1)[0],n="https://aryaziai.github.io/Fetch/".concat(a,".png");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"newmain"},r.a.createElement("img",{src:n,alt:"topic_logo",className:"feeditemslogo"}),r.a.createElement("div",{className:"caption"}," ",r.a.createElement("b",{className:"CategoryTitle"},"#",a," "),r.a.createElement("button",{id:this.props.topicPost.url,onClick:function(e){return t.props.deletePostFromCategory(e)},className:"xOut"},"x"),r.a.createElement("p",{className:"date"},"Published on"," ",new Date(this.props.topicPost.publishedAt).toString()),r.a.createElement("br",null),this.props.topicPost.title,r.a.createElement("br",null)," ",r.a.createElement("a",{className:"post_link",href:this.props.topicPost.url,target:"_blank",rel:"noopener noreferrer"},this.props.topicPost.url),r.a.createElement("br",null),r.a.createElement("a",{href:this.props.topicPost.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("br",null),r.a.createElement("img",{src:this.props.topicPost.urlToImage,className:"categorypostImage"})),r.a.createElement("br",null)),r.a.createElement("div",{className:"bottomofCard"},r.a.createElement("p",{className:"favorite"},r.a.createElement("img",{src:e,alt:"favorite",name:"favorite",className:"favorite",onClick:this.toggleImage}),"Favorite",r.a.createElement("a",{href:"sms:Text Someone&body=".concat(this.props.topicPost.title,"%0D%0A%0D%0A").concat(this.props.topicPost.url)},r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/imessage.png",alt:"imessage",name:"imessage",className:"iMessage"}),"iMessage"),r.a.createElement("a",{href:"mailto:?subject=".concat(this.props.topicPost.title,"&body=Hey you!%0D%0A%0D%0ACheck out this cool article I found on Fetch:%0D%0A%0D%0A").concat(this.props.topicPost.url)},r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/mail.png",alt:"email",className:"email"}),"Email")),r.a.createElement("p",{className:"sourceinfo"},"Source: ",this.props.topicPost.source.name))))}}]),t}(n.Component),I=Object(N.g)(_),A=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={categoryPosts:[],categoryName:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location.pathname.split("/").slice(-1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"topdog"},r.a.createElement("h3",{className:"mainfeedtitle"},"#",t,r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/refresh.png",className:"feedtitleimage",alt:"feedicon",onClick:this.props.fetchFromGoogle})),r.a.createElement("div",{className:"drop"}),this.props.categoryPosts.map((function(t){return r.a.createElement(I,{topicPost:t,key:t.url,categoryName:e.state.categoryName,deletePostFromCategory:e.props.deletePostFromCategory})}))))}}]),t}(n.Component),z=Object(N.g)(A),x=a(59),D=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).handleChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.handleKeyPress=function(t){(" "===t.key||t.key>=0||t.key<10)&&t.preventDefault(),"Enter"===t.key&&setTimeout(e.searchToEmpty,10)},e.searchToEmpty=function(){e.setState({search:""})},e.loginLogic=function(){return 0===Object.keys(e.props.currentUser).length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"topcoolbutton",onClick:function(){return e.props.history.push("/Fetch/signup")}},r.a.createElement("p",null,"Signup")),r.a.createElement("div",{className:"topcoolbutton",onClick:function(){return e.props.history.push("/Fetch/login")}},r.a.createElement("p",null,"Login"))):r.a.createElement("div",{className:"profile-nav"},r.a.createElement(x.a,null,r.a.createElement(x.a.Toggle,{variant:"success",id:"dropdown-basic"},r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/missing_avatar.jpg",alt:"avatar"})," ",e.props.currentUser.username),r.a.createElement(x.a.Menu,null,r.a.createElement("p",{className:"dropdown-item",onClick:function(){return e.props.history.push("/Fetch/profile")}},"Edit Profile"),r.a.createElement("p",{className:"dropdown-item",onClick:e.props.handleLogout},"Logout"))))},e.loginLogicSearch=function(){if(0!==Object.keys(e.props.currentUser).length)return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return e.props.fetchFromSearch(t,e.state.search)},onKeyPress:function(t){return e.handleKeyPress(t)}},r.a.createElement(b.a.Group,{controlId:"formBasicSearch"},r.a.createElement("center",null,r.a.createElement(b.a.Control,{type:"text",name:"search",placeholder:"Search All Articles",onChange:function(t){return e.handleChange(t)},value:e.state.search,className:"searchBar"})))))},e.state={search:""},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"topbar"},r.a.createElement(g.b,{to:0===Object.keys(this.props.currentUser).length?"/Fetch/":"/Fetch/feed"},r.a.createElement("img",{className:"logo",src:"https://aryaziai.github.io/Fetch/logo.png",alt:"logo"})),this.loginLogicSearch(),r.a.createElement("div",{className:"right-align-buttons"},this.loginLogic()))}}]),t}(n.Component),U=Object(N.g)(D),L=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).toggleImage=function(){e.setState((function(e){return{favorite:!e.favorite}}))},e.state={favorite:!1},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t=this;e=!0===this.state.favorite?"https://aryaziai.github.io/Fetch/heart.png":"https://aryaziai.github.io/Fetch/unheart.png";var a=this.props.topicsFollowed.find((function(e){return e.id===t.props.topicPost.topic_id}));return r.a.createElement(r.a.Fragment,null,void 0!==a?r.a.createElement("div",{className:"newmain"},r.a.createElement("img",{src:a.logo,alt:"topic_logo",className:"feeditemslogo",onClick:function(){return t.props.history.push("/topic/".concat(a.topic_title.toLowerCase()))}}),r.a.createElement("div",{className:"caption"},r.a.createElement("b",{onClick:function(){return t.props.history.push("/topic/".concat(a.topic_title.toLowerCase()))}},"#",a.topic_title," "),r.a.createElement("button",{id:this.props.topicPost.id,onClick:function(e){return t.props.deletePostFromTopic(e)},className:"xOut"},"x"),r.a.createElement("p",{className:"date"},"Published on"," ",new Date(this.props.topicPost.published_at).toString()),r.a.createElement("br",null),this.props.topicPost.caption,r.a.createElement("br",null)," ",r.a.createElement("a",{className:"post_link",href:this.props.topicPost.url,target:"_blank",rel:"noopener noreferrer"},this.props.topicPost.url)," "),r.a.createElement("a",{href:this.props.topicPost.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:this.props.topicPost.image_url,className:"feedpostImage"})),r.a.createElement("br",null),r.a.createElement("div",{className:"bottomofCard"},r.a.createElement("p",{className:"favorite"},r.a.createElement("img",{src:e,alt:"favorite",name:"favorite",className:"favorite",onClick:this.toggleImage}),"Favorite",r.a.createElement("a",{href:"sms:Text Someone&body=".concat(this.props.topicPost.caption,"%0D%0A%0D%0A").concat(this.props.topicPost.url)},r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/imessage.png",alt:"imessage",name:"imessage",className:"iMessage"}),"iMessage"),r.a.createElement("a",{href:"mailto:?subject=".concat(this.props.topicPost.caption,"&body=Hey you!%0D%0A%0D%0ACheck out this cool article I found on Fetch:%0D%0A%0D%0A").concat(this.props.topicPost.url)},r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/mail.png",alt:"email",className:"email"}),"Email")),r.a.createElement("p",{className:"sourceinfo"},"Source: ",this.props.topicPost.source))):null)}}]),t}(n.Component),G=Object(N.g)(L),B=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"mainfeedtitle"},"Fetch Feed",r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/refresh.png",className:"feedtitleimage",alt:"feedicon",onLoad:this.props.fetchToTopicId,onClick:this.props.fetchToTopicId})),r.a.createElement("div",{className:"drop"}),null!==this.props.allTopicPosts&&0!==this.props.allTopicPosts.length?this.props.allTopicPosts.map((function(t){return r.a.createElement(G,{deletePostFromTopic:e.props.deletePostFromTopic,topicsFollowed:e.props.topicsFollowed,topicPost:t,key:t.id})})):r.a.createElement("div",{className:"lds-dual-ring"}))}}]),t}(n.Component),M=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).toggleImage=function(){e.setState((function(e){return{favorite:!e.favorite}}))},e.state={favorite:!1},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e;return e=!0===this.state.favorite?"https://aryaziai.github.io/Fetch/heart.png":"https://aryaziai.github.io/Fetch/unheart.png",r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"newmain"},r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/magnifying.png",alt:"topic_logo",className:"feeditemslogo"}),r.a.createElement("div",{className:"caption"}," ",r.a.createElement("b",{className:"CategoryTitle"},this.props.searchPost.source.name," "),r.a.createElement("p",{className:"date"},"Published on"," ",new Date(this.props.searchPost.publishedAt).toString()),r.a.createElement("br",null),this.props.searchPost.title,r.a.createElement("br",null)," ",r.a.createElement("a",{className:"post_link",href:this.props.searchPost.url,target:"_blank",rel:"noopener noreferrer"},this.props.searchPost.url),r.a.createElement("br",null),r.a.createElement("a",{href:this.props.searchPost.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("br",null),r.a.createElement("img",{src:this.props.searchPost.urlToImage,className:"categorypostImage"})),r.a.createElement("br",null)),r.a.createElement("div",{className:"bottomofCard"},r.a.createElement("p",{className:"favorite"},r.a.createElement("img",{src:e,alt:"favorite",name:"favorite",className:"favorite",onClick:this.toggleImage}),"Favorite",r.a.createElement("a",{href:"sms:Text Someone&body=".concat(this.props.searchPost.title,"%0D%0A%0D%0A").concat(this.props.searchPost.url)},r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/imessage.png",alt:"imessage",name:"imessage",className:"iMessage"}),"iMessage"),r.a.createElement("a",{href:"mailto:?subject=".concat(this.props.searchPost.title,"&body=Hey you!%0D%0A%0D%0ACheck out this cool article I found on Fetch:%0D%0A%0D%0A").concat(this.props.searchPost.url)},r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/mail.png",alt:"email",className:"email"}),"Email")),r.a.createElement("p",{className:"sourceinfo"},"Source: ",this.props.searchPost.source.name))))}}]),t}(n.Component),J=Object(N.g)(M),K=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location.pathname.split("/").slice(-1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"topdog"},r.a.createElement("h3",{className:"mainfeedtitle"},"Search: #",t,r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/x.png",className:"deletetopic",alt:"feedicon",onClick:function(){return e.props.history.push("/Fetch/feed")}})),r.a.createElement("div",{className:"drop"}),this.props.searchPosts.map((function(t){return r.a.createElement(J,{searchPost:t,key:t.url,deletePostFromCategory:e.props.deletePostFromCategory})}))))}}]),t}(n.Component),H=Object(N.g)(K),R=function(e){function t(){var e;return Object(p.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).fetchToTopicId=function(){e.state.topicsFollowed.forEach((function(t){fetch("https://fetch-backend-api.herokuapp.com/topics/".concat(t.id),{method:"GET",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(t){var a=t.topic.data.attributes.id,n=t.topic.data.attributes.posts;n=n.map((function(e){return Object(s.a)({},e,{topic_id:a})}));var r=null!==e.state.allTopicPosts?e.state.allTopicPosts.map((function(e){return e.id})):[],o=n.filter((function(e){return!r.includes(e.id)}));null!==e.state.allTopicPosts&&e.setState({allTopicPosts:[].concat(Object(l.a)(e.state.allTopicPosts),Object(l.a)(o))})}))}))},e.fetchFromSearch=function(t,a){t.preventDefault(),fetch("https://newsapi.org/v2/everything?language=en&pageSize=10&q=+".concat(a,"&excludeDomains=slashdot.org&apiKey=07af66c02837407a82106528c10d64c5")).then((function(e){return e.json()})).then((function(t){return e.setState({searchPosts:t.articles})})),e.props.history.push("/Fetch/search/".concat(a))},e.fetchFromGoogle=function(){e.state.topicsFollowed.map((function(t){var a=!0===t.plus?"+":"";fetch("https://newsapi.org/v2/everything?language=".concat(t.language,"&pageSize=").concat(t.page_size,"&q=").concat(a).concat(t.topic_title,"&sortBy=").concat(t.sort_by,"&excludeDomains=slashdot.org&apiKey=07af66c02837407a82106528c10d64c5")).then((function(e){return e.json()})).then((function(a){a.articles.map((function(a){return e.postToOurApi(a,t.id)}))}))}))},e.postToOurApi=function(t,a){fetch("https://fetch-backend-api.herokuapp.com/posts",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({topic_id:a,post:{caption:t.title,source:t.source.name,image_url:t.urlToImage,url:t.url,published_at:t.publishedAt}})}).then((function(e){return e.json()})).then((function(t){t.post&&fetch("https://fetch-backend-api.herokuapp.com/post_topics",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({post_topic:{post_id:t.post.id,topic_id:a}})}),e.fetchToTopicId()}))},e.deletePostFromCategory=function(t){t.preventDefault(),e.setState({categoryPosts:e.state.categoryPosts.filter((function(e){return e.url!==t.target.id}))})},e.deletePostFromTopic=function(t){t.preventDefault(),fetch("https://fetch-backend-api.herokuapp.com/posts/".concat(t.target.id),{method:"delete",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")}}),e.setState({allTopicPosts:e.state.allTopicPosts.filter((function(e){return e.id!==parseInt(t.target.id)}))})},e.handleLoginSubmit=function(t,a){t.preventDefault(),fetch("https://fetch-backend-api.herokuapp.com/login",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({auth:{username:a.username,password:a.password,first_name:a.first_name,last_name:a.last_name}})}).then((function(e){return e.json()})).then((function(t){t.error?document.getElementById("login-error").innerText=t.error:(localStorage.setItem("token",t.jwt),e.setState({currentUser:{id:t.user.data.attributes.id,username:t.user.data.attributes.username,first_name:t.user.data.attributes.first_name,last_name:t.user.data.attributes.last_name}}),e.fetchToTopicId(),e.props.history.push("/Fetch/feed"))}))},e.updateStateOfTopicsFollowed=function(t){e.setState((function(e){return{topicsFollowed:e.topicsFollowed.concat(t)}}))},e.handleSubmitTopic=function(t,a){t.preventDefault(),""!==a.topic_title?fetch("https://fetch-backend-api.herokuapp.com/add-topic",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({topic:Object(s.a)({},a)})}).then((function(e){return e.json()})).then((function(t){return e.updateStateOfTopicsFollowed([t.topic.data.attributes]),t.topic.data.attributes.id})).then((function(t){e.fetchFromGoogle(t)})).then((function(){e.props.history.push("/Fetch/feed")})):window.alert("Topic title cannot be empty")},e.handleSignupSubmit=function(t,a){t.preventDefault(),fetch("https://fetch-backend-api.herokuapp.com/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:a})}).then((function(e){return e.json()})).then((function(t){t.error?document.getElementById("login-error").innerText=t.error:(localStorage.setItem("token",t.jwt),e.setState({currentUser:Object(s.a)({id:t.user.data.attributes.id},t.user.data.attributes)}),e.createTopic())}))},e.createTopic=function(){fetch("https://fetch-backend-api.herokuapp.com/add-topic",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({topic:{topic_title:"Trending",logo:"https://cust-images.grenadine.co/grenadine/image/upload/c_fill,f_jpg,g_face,h_1472,w_1472/v0/Kinnektor/QgOV_5613.png",user_id:e.state.currentUser.id,page_size:null,plus:null,sort_by:null}})}).then((function(e){return e.json()})).then((function(t){e.followTrending(t.topic.data.attributes.id)})).then((function(){e.props.history.push("/Fetch/feed")}))},e.deleteTopic=function(t){t.preventDefault(),fetch("https://fetch-backend-api.herokuapp.com/topics/".concat(t.target.id),{method:"delete",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")}}),e.setState({topicsFollowed:e.state.topicsFollowed.filter((function(e){return e.id!==parseInt(t.target.id)}))}),e.props.history.push("/Fetch/feed")},e.followTrending=function(t){fetch("https://newsapi.org/v2/top-headlines?pageSize=9&country=us&apiKey=07af66c02837407a82106528c10d64c5").then((function(e){return e.json()})).then((function(a){a.articles.map((function(a){return e.postTrendingTopicToOurApi(a,t)}))}))},e.postTrendingTopicToOurApi=function(t,a){fetch("https://fetch-backend-api.herokuapp.com/posts",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({topic_id:a,post:{caption:t.title,source:t.source.name,image_url:t.urlToImage,url:t.url,published_at:t.publishedAt}})}).then((function(e){return e.json()})).then((function(e){fetch("https://fetch-backend-api.herokuapp.com/post_topics",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({post_topic:{post_id:e.post.id,topic_id:a}})})})).then(e.fetchToTopicId())},e.handleLogout=function(){localStorage.clear(),e.setState({currentUser:{},topicsFollowed:[],allTopicPosts:[],categoryPosts:[],loading:!1,searchPosts:[]}),e.props.history.push("/Fetch")},e.state={currentUser:{},loading:!0,topicsFollowed:[],allTopicPosts:[],categoryPosts:[],searchPosts:[]},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://fetch-backend-api.herokuapp.com/re_auth",{method:"GET",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).catch((function(e){return e?window.alert("Server is starting up"):window.alert("Oh my. Something has gone terribly wrong.")})).then((function(t){void 0!==t.user?e.setState({currentUser:Object(s.a)({id:t.user.data.id},t.user.data.attributes)},(function(){e.setState({loading:!1})})):e.setState({loading:!1})})).catch((function(){}))}},{key:"handleCategoryClick",value:function(e){var t=this;fetch("https://newsapi.org/v2/top-headlines?country=us&category=".concat(e,"&pageSize=9&apiKey=07af66c02837407a82106528c10d64c5")).then((function(e){return e.json()})).then((function(a){return t.setState({categoryPosts:a.articles,categoryName:e})})),this.props.history.push("/Fetch/category/".concat(e))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(U,Object(i.a)({currentUser:this.state.currentUser,handleLogout:this.handleLogout,fetchFromSearch:this.fetchFromSearch,searchQuery:this.state.searchQuery},"fetchFromSearch",this.fetchFromSearch)),r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/Fetch",component:f}),r.a.createElement(N.b,{exact:!0,path:"/Fetch/login",render:function(t){return r.a.createElement(y,Object.assign({},t,{handleLoginSubmit:e.handleLoginSubmit}))}}),r.a.createElement(N.b,{exact:!0,path:"/Fetch/signup",render:function(t){return r.a.createElement(v,Object.assign({},t,{handleSignupSubmit:e.handleSignupSubmit}))}}),!1===this.state.loading?0!==Object.keys(this.state.currentUser).length?r.a.createElement(r.a.Fragment,null,r.a.createElement(N.b,{exact:!0,path:"/Fetch/feed",render:function(t){return r.a.createElement(B,Object.assign({},t,{topicsFollowed:e.state.topicsFollowed,fetchFromGoogle:e.fetchFromGoogle,fetchToTopicId:e.fetchToTopicId,allTopicPosts:e.state.allTopicPosts,deletePostFromTopic:e.deletePostFromTopic}))}}),r.a.createElement(N.b,{path:"/Fetch/search/",render:function(t){return r.a.createElement(H,Object.assign({},t,{currentUser:e.state.currentUser,searchPosts:e.state.searchPosts,deletePostFromCategory:e.deletePostFromCategory,fetchFromGoogle:e.fetchFromGoogle}))}}),r.a.createElement(N.b,{path:"/Fetch/category/",render:function(t){return r.a.createElement(z,Object.assign({},t,{currentUser:e.state.currentUser,categoryPosts:e.state.categoryPosts,deletePostFromCategory:e.deletePostFromCategory}))}}),r.a.createElement("div",{className:"category"},r.a.createElement("h3",null,"Categories"),r.a.createElement("br",null),r.a.createElement("p",{onClick:function(t){return e.handleCategoryClick("business")}},"#Business"),r.a.createElement("p",{onClick:function(t){return e.handleCategoryClick("entertainment")}},"#Entertainment"),r.a.createElement("p",{onClick:function(t){return e.handleCategoryClick("general")}},"#General"),r.a.createElement("p",{onClick:function(t){return e.handleCategoryClick("health")}},"#Health"),r.a.createElement("p",{onClick:function(t){return e.handleCategoryClick("science")}},"#Science"),r.a.createElement("p",{onClick:function(t){return e.handleCategoryClick("sports")}},"#Sports"),r.a.createElement("p",{onClick:function(t){return e.handleCategoryClick("technology")}},"#Technology")),r.a.createElement(T,{currentUser:this.state.currentUser,topicsFollowed:this.state.topicsFollowed,updateStateOfTopicsFollowed:this.updateStateOfTopicsFollowed}),r.a.createElement(N.b,{path:"/Fetch/topic",render:function(t){return r.a.createElement(C,Object.assign({},t,{fetchFromGoogle:e.fetchFromGoogle,topicsFollowed:e.state.topicsFollowed,allTopicPosts:e.state.allTopicPosts,deletePostFromTopic:e.deletePostFromTopic,deleteTopic:e.deleteTopic}))}}),r.a.createElement(N.b,{exact:!0,path:"/Fetch/add-topic",render:function(t){return r.a.createElement(F,Object.assign({},t,{currentUser:e.state.currentUser,handleSubmitTopic:e.handleSubmitTopic,updateStateOfTopicsFollowed:e.updateStateOfTopicsFollowed}))}}),r.a.createElement(N.b,{exact:!0,path:"/Fetch/profile",render:function(t){return r.a.createElement(k,Object.assign({},t,{currentUser:e.state.currentUser,handleLogout:e.handleLogout}))}})):r.a.createElement(N.a,{to:"/Fetch"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"lds-dual-ring"}))),r.a.createElement("img",{src:"https://aryaziai.github.io/Fetch/scroll.png",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})},className:"scrollTop",alt:"ScrollTop"}))}}]),t}(n.Component),Q=Object(N.g)(R);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(g.a,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.0613ec35.chunk.js.map