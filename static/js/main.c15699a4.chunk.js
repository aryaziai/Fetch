(this["webpackJsonpfetch-frontend"]=this["webpackJsonpfetch-frontend"]||[]).push([[0],{44:function(e,t,a){e.exports=a(58)},49:function(e,t,a){},50:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(34),c=a.n(r),l=(a(49),a(30)),s=a(18),i=a(5),p=a(6),u=a(8),m=a(7),h=a(9),d=(a(50),a(11)),g=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"welcome"},o.a.createElement("h1",{className:"create_experience"},"Create your !!! personalized",o.a.createElement("br",null),"news experience"),o.a.createElement("div",{className:"notbrands"},o.a.createElement("p",{className:"bigtime"},o.a.createElement("img",{src:"/search.png",width:"120px",alt:"search"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("b",null,"Find Articles"),o.a.createElement("br",null),"Create topics that you are interested",o.a.createElement("br",null)," in and we will do the rest."),o.a.createElement("p",{className:"bigtime"},o.a.createElement("img",{src:"/globe.png",width:"120px",alt:"globe"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("b",null,"Select Language"),o.a.createElement("br",null),"Need your news in a different language?",o.a.createElement("br",null),"Select from other 10 languages."),o.a.createElement("p",{className:"bigtime"},o.a.createElement("img",{src:"/monitor.png",width:"120px",alt:"monitor"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("b",null,"Customize Results"),o.a.createElement("br",null),"Don't like a certain article in your feed?",o.a.createElement("br",null)," No worries! Just click the x icon.")),o.a.createElement("div",{className:"brands"},o.a.createElement("h1",null,"Sources we use:"),o.a.createElement("img",{src:"/cnn.png",width:"100px",alt:"cnn"}),o.a.createElement("img",{src:"/fox.png",width:"200px",alt:"fox"}),o.a.createElement("img",{src:"/bbc.png",width:"130px",alt:"bbc"}),"& More..."),o.a.createElement("h1",{className:"finalh1"},"Join Today"),o.a.createElement("div",{className:"align-buttons"},o.a.createElement("p",{className:"coolbutton"},o.a.createElement(d.b,{to:"/signup"},"Signup")),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null)))}}]),t}(n.Component),f=a(13),b=a(60),E=a(38),v=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value))},e.state={username:"",password:""},e}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"logincontainer"},o.a.createElement("h2",null,"Login"),o.a.createElement("div",{className:"loginFormlife",align:"center"},o.a.createElement(b.a,{onSubmit:function(t){e.props.handleLoginSubmit(t,e.state)}},o.a.createElement(b.a.Group,{controlId:"formBasicEmail"},o.a.createElement(b.a.Control,{type:"text",name:"username",placeholder:"Username",onChange:function(t){return e.handleChange(t)},value:this.state.username})),o.a.createElement("br",null),o.a.createElement(b.a.Group,{controlId:"formBasicLoginPassword"},o.a.createElement(b.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:function(t){return e.handleChange(t)},value:this.state.password})),o.a.createElement(E.a,{variant:"primary-submit",type:"submit"},"Login")),o.a.createElement("p",{id:"login-error"})))}}]),t}(n.Component),y=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value))},e.state={first_name:"",last_name:"",username:"",password:"",password_confirmation:""},e}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"logincontainer"},o.a.createElement("h3",null,"Create your account"),o.a.createElement("div",{className:"Formlife",align:"center"},o.a.createElement(b.a,{onSubmit:function(t){e.props.handleSignupSubmit(t,e.state)}},o.a.createElement("div",{className:"signupstuff"},o.a.createElement(b.a.Group,{controlId:"formBasicFirstName"},o.a.createElement(b.a.Control,{type:"text",name:"first_name",placeholder:"First Name",onChange:function(t){return e.handleChange(t)},value:this.state.first_name})),o.a.createElement(b.a.Group,{controlId:"formBasicLastName"},o.a.createElement(b.a.Control,{type:"text",name:"last_name",placeholder:"Last Name",onChange:function(t){return e.handleChange(t)},value:this.state.last_name}))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(b.a.Group,{controlId:"formBasicUsername"},o.a.createElement(b.a.Control,{type:"text",name:"username",placeholder:"Username*",onChange:function(t){return e.handleChange(t)},value:this.state.username})),o.a.createElement("br",null),o.a.createElement(b.a.Group,{controlId:"formBasicPassword"},o.a.createElement(b.a.Control,{type:"password",name:"password",placeholder:"Password *",onChange:function(t){return e.handleChange(t)},value:this.state.password})),o.a.createElement("br",null),o.a.createElement(b.a.Group,{controlId:"formBasicPasswordConfirm"},o.a.createElement(b.a.Control,{type:"password",name:"password_confirmation",placeholder:"Confirm Password *",onChange:function(t){return e.handleChange(t)},value:this.state.password_confirmation})),o.a.createElement(E.a,{variant:"primary-submit",type:"submit"},"Next")),o.a.createElement("p",{id:"login-error"})))}}]),t}(n.Component),C=a(17),j=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={favorite:!1},e}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this;e=!0===this.state.favorite?"/heart.png":"/unheart.png";var a=this.props.topicsFollowed.find((function(e){return e.id===t.props.topicPost.topic_id}));return o.a.createElement("div",{className:"newmain"},o.a.createElement("img",{src:a.logo,alt:"topic_logo",className:"feeditemslogo"}),o.a.createElement("div",{className:"caption"},o.a.createElement("b",null,"#",a.topic_title),o.a.createElement("button",{id:this.props.topicPost.id,onClick:function(e){return t.props.deletePostFromTopic(e)},className:"xOut"},"x"),o.a.createElement("p",{className:"date"},"Published on ",new Date(this.props.topicPost.published_at).toString()),o.a.createElement("br",null),this.props.topicPost.caption,o.a.createElement("br",null)," ",o.a.createElement("a",{href:this.props.topicPost.url,className:"post_link",target:"_blank",rel:"noopener noreferrer"},this.props.topicPost.url)," "),o.a.createElement("a",{href:this.props.topicPost.url,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{src:this.props.topicPost.image_url,alt:"news_image",className:"postImage"})),o.a.createElement("br",null),o.a.createElement("div",{className:"bottomofCard"},o.a.createElement("p",{className:"favorite"},o.a.createElement("img",{src:e,alt:"favorite",name:"favorite",className:"favorite",onClick:this.toggleImage}),"Favorite",o.a.createElement("a",{href:"sms:Text Someone&body=".concat(this.props.topicPost.caption,"%0D%0A%0D%0A").concat(this.props.topicPost.url)},o.a.createElement("img",{src:"https://cdn2.iconfinder.com/data/icons/ios-7-icons/50/speech_bubble-512.png",alt:"imessage",name:"imessage",className:"iMessage"}),"iMessage"),o.a.createElement("a",{href:"mailto:?subject=".concat(this.props.topicPost.caption,"&body=Hey you!%0D%0A%0D%0ACheck out this cool article I found on Fetch:%0D%0A%0D%0A").concat(this.props.topicPost.url)},o.a.createElement("img",{src:"https://www.iconsdb.com/icons/preview/black/email-5-xxl.png",alt:"email",className:"email"}),"Email")),o.a.createElement("p",{className:"sourceinfo"},"Source: ",this.props.topicPost.source)))}}]),t}(n.Component),O=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.location.pathname.split("/").slice(-1)[0],n=this.props.topicsFollowed.find((function(e){return e.topic_title.toLowerCase()===a}));return n&&(e=this.props.allTopicPosts.filter((function(e){return n.id===e.topic_id}))),o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"mainfeedtitle"},"#",a,n?o.a.createElement("img",{src:"/x.png",className:"deletetopic",alt:"feedicon",onClick:this.props.deleteTopic,id:n.id,key:n.id}):null),o.a.createElement("div",{className:"drop"}),n?e.map((function(e){return o.a.createElement(j,{topicsFollowed:t.props.topicsFollowed,topicPost:e,deletePostFromTopic:t.props.deletePostFromTopic})})):null)}}]),t}(n.Component),N=Object(C.g)(O),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).alertMe=function(){window.alert("Cool story bro")},a.toggleImage=function(){a.setState((function(e){return{plus:!e.plus}}))},a.handleChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.avoidSpace=function(e){(" "===e.key||e.key>=0||e.key<10)&&(console.log("spacebar:",e.key),e.preventDefault())},a.showImage=function(){!0===a.state.toggleUpload?a.setState({toggleUpload:!1}):a.setState({toggleUpload:!0})},a.state={topic_title:"",page_size:5,language:"en",plus:!0,sort_by:"relevancy",logo:"/missing.png",user_id:e.currentUser.id,toggleUpload:!1},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this;return e=!0===this.state.plus?"/toggleon.png":"/toggleoff.png",o.a.createElement("div",null,o.a.createElement("h2",{className:"addtopictitle"},"Add a New Topic"),o.a.createElement("br",null),o.a.createElement("div",{className:"add-topic"},o.a.createElement(b.a,{onSubmit:function(e){t.props.handleSubmitTopic(e,t.state)}},o.a.createElement(b.a.Group,{controlId:"formBasicTopicTitle"},o.a.createElement("p",{className:"hashtag"},"#"),o.a.createElement(b.a.Control,{type:"text",name:"topic_title",placeholder:"TopicTitle",onKeyPress:function(e){return t.avoidSpace(e)},onChange:function(e){return t.handleChange(e)},value:this.state.topic_title})),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("h2",{className:"addtopiclogo"},"Add Logo"),o.a.createElement("br",null),o.a.createElement("img",{src:this.state.logo,name:"logo",className:"missing",alt:"missing",id:"on",value:"/missing.png"}),!0===this.state.toggleUpload?o.a.createElement("div",{className:"upload_image"},o.a.createElement(b.a.Group,{controlId:"formBasicTopicLogo"},o.a.createElement(b.a.Control,{type:"text",name:"logo",placeholder:"Insert Logo URL",onKeyPress:function(e){return t.avoidSpace(e)},onChange:function(e){return t.handleChange(e)}}))):null,o.a.createElement("p",{onClick:function(e){return t.showImage(e)},className:"uploadimage"},"Upload File"),o.a.createElement("br",null)," ",o.a.createElement("h2",{className:"addsourcehandle"},"Language"),o.a.createElement("p",{className:"handleLife"},o.a.createElement("select",{value:this.state.language,className:"language",name:"language",onChange:function(e){return t.handleChange(e)}},o.a.createElement("option",{value:"en"},"English"),o.a.createElement("option",{value:"ar"},"Arabic"),o.a.createElement("option",{value:"de"},"German"),o.a.createElement("option",{value:"es"},"Spanish"),o.a.createElement("option",{value:"fr"},"French"),o.a.createElement("option",{value:"it"},"Italian"),o.a.createElement("option",{value:"nl"},"Dutch"),o.a.createElement("option",{value:"pt"},"Portuguese"),o.a.createElement("option",{value:"ru"},"Russian"),o.a.createElement("option",{value:"zh"},"Zh\u014dngw\xe9n"))),o.a.createElement("br",null)," ",o.a.createElement("br",null)," ",o.a.createElement("br",null)," ",o.a.createElement("br",null)," ",o.a.createElement("br",null)," ",o.a.createElement("br",null)," ",o.a.createElement("br",null),o.a.createElement("h2",{className:"addsourcehandle"},"Sort By"),o.a.createElement("p",{className:"handleLife"},o.a.createElement("select",{value:this.state.sort_by,className:"sort_by",name:"sort_by",onChange:function(e){return t.handleChange(e)}},o.a.createElement("option",{value:"relevancy"},"Relevance"),o.a.createElement("option",{value:"publishedAt"},"Latest"),o.a.createElement("option",{value:"popularity"},"Popular"))),o.a.createElement("br",null)," ",o.a.createElement("br",null)," ",o.a.createElement("br",null)," ",o.a.createElement("br",null)," ",o.a.createElement("br",null)," ",o.a.createElement("br",null)," ",o.a.createElement("br",null),o.a.createElement("h2",{className:"addsourcehandle"},"Results"),o.a.createElement("p",{className:"handleLife"},o.a.createElement("select",{value:this.state.page_size,className:"page_size",name:"page_size",onChange:function(e){return t.handleChange(e)}},o.a.createElement("option",{value:"5"},"5"),o.a.createElement("option",{value:"10"},"10"),o.a.createElement("option",{value:"15"},"15"),o.a.createElement("option",{value:"20"},"20"))),o.a.createElement("br",null),o.a.createElement("br",null)," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("p",{className:"handleLife"},o.a.createElement("img",{src:e,alt:"relatednews",name:"plus",className:"toggleHandle",onClick:this.toggleImage}),"Results must include topic title"),o.a.createElement("br",null),o.a.createElement("div",{className:"submitTopic"},o.a.createElement("button",{onClick:function(){return t.props.history.push("/feed")},className:"submitTopic-btton-nevermind"},"Nevermind"),o.a.createElement("button",{className:"submitTopic-btton"},"Create Topic"),o.a.createElement("br",null)))))}}]),t}(n.Component),w=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value))},e.handleEditProfile=function(t,a){t.preventDefault(),fetch("https://fetch-backend-api.herokuapp.com/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:a,id:e.props.currentUser.id})}).then((function(e){return e.json()})).then((function(t){t.error?document.getElementById("login-error").innerText=t.error:(localStorage.setItem("token",t.jwt),e.setState({currentUser:Object(s.a)({id:t.id},t)}),e.props.history.push("/feed"))}))},e.handleDeleteProfile=function(t){t.preventDefault(),fetch("https://fetch-backend-api.herokuapp.com/users/".concat(e.props.currentUser.id),{method:"delete",headers:{"Content-Type":"application/json"},Authorization:localStorage.getItem("token")}).then((function(e){return e.json()})).then((function(t){t.error?window.alert(t.error):(e.props.handleLogout(),window.alert("Successfully Deleted"))}))},e.state={currentUser:null,first_name:"",last_name:"",username:"",password:"",password_confirmation:""},e}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState({currentUser:this.props.currentUser})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"logincontainer"},o.a.createElement("div",{className:"editprofile"},o.a.createElement("h2",null,"Edit Profile"),o.a.createElement("div",{className:"EditFormlife",align:"center"},o.a.createElement(b.a,{onSubmit:function(t){e.handleEditProfile(t,e.state)}},o.a.createElement("div",{className:"signupstuff"},o.a.createElement(b.a.Group,{controlId:"formBasicUpdateFirstName"},o.a.createElement(b.a.Control,{type:"text",name:"first_name",placeholder:this.props.currentUser.first_name,onChange:function(t){return e.handleChange(t)},value:this.state.first_name})),o.a.createElement(b.a.Group,{controlId:"formBasicUpdateLastName"},o.a.createElement(b.a.Control,{type:"text",name:"last_name",placeholder:this.props.currentUser.last_name,onChange:function(t){return e.handleChange(t)},value:this.state.last_name}))),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(b.a.Group,{controlId:"formBasicUsername"},o.a.createElement(b.a.Control,{type:"text",name:"username",placeholder:this.props.currentUser.username,onChange:function(t){return e.handleChange(t)},value:this.state.username})),o.a.createElement("br",null),o.a.createElement(b.a.Group,{controlId:"formBasicPassword"},o.a.createElement(b.a.Control,{type:"password",name:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022",onChange:function(t){return e.handleChange(t)},value:this.state.password})),o.a.createElement("br",null),o.a.createElement(b.a.Group,{controlId:"formBasicPasswordConfirm"},o.a.createElement(b.a.Control,{type:"password",name:"password_confirmation",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022",onChange:function(t){return e.handleChange(t)},value:this.state.password_confirmation})),o.a.createElement("div",{className:"editprofilebuttons"},o.a.createElement("button",{onClick:function(t){return e.handleDeleteProfile(t)},className:"submitTopic-btton-delete"},"Delete"),o.a.createElement("button",{onClick:function(){return window.alert("Successfully Updated")},className:"submitTopic-btton"},"Update"),o.a.createElement("p",{id:"login-error"}))))))}}]),t}(n.Component),T=Object(C.g)(w),S=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("p",{className:"sidebaritems",onClick:function(){return e.props.history.push("/topic/".concat(e.props.topic.topic_title.toLowerCase()))}},o.a.createElement("img",{src:this.props.topic.logo,alt:"topic_logo"})," #",this.props.topic.topic_title)}}]),t}(n.Component),P=Object(C.g)(S),_=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("token")&&fetch("https://fetch-backend-api.herokuapp.com/users/".concat(this.props.currentUser.id),{method:"GET",headers:{Authorization:localStorage.getItem("token"),"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.props.updateStateOfTopicsFollowed(t.user.topics)}))}},{key:"render",value:function(){var e=this;return o.a.createElement("header",{className:"App-header"},o.a.createElement("div",{className:"addtopicstuff"},o.a.createElement("h3",null,"Topics You Follow"),null!==this.props.topicsFollowed?this.props.topicsFollowed.map((function(e){return o.a.createElement(P,{topic:e,key:e.id})})):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"lds-dual-ring"})),o.a.createElement("p",{className:"addnewsidebaritems",onClick:function(){return e.props.history.push("/add-topic")}}," ",o.a.createElement("img",{src:"https://friconix.com/png/fi-xtluxx-plus-thin.png",alt:"Add Topic",className:"addMore"}),"Add a New Topic"," ")))}}]),t}(n.Component),F=Object(C.g)(_),I=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).toggleImage=function(){e.setState((function(e){return{favorite:!e.favorite}}))},e.state={favorite:!1},e}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this;e=!0===this.state.favorite?"/heart.png":"/unheart.png";var a=this.props.location.pathname.split("/").slice(-1)[0],n="/".concat(a,".png");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"newmain"},o.a.createElement("img",{src:n,alt:"topic_logo",className:"feeditemslogo"}),o.a.createElement("div",{className:"caption"}," ",o.a.createElement("b",{className:"CategoryTitle"},"#",a," "),o.a.createElement("button",{id:this.props.topicPost.url,onClick:function(e){return t.props.deletePostFromCategory(e)},className:"xOut"},"x"),o.a.createElement("p",{className:"date"},"Published on ",new Date(this.props.topicPost.publishedAt).toString()),o.a.createElement("br",null),this.props.topicPost.title,o.a.createElement("br",null)," ",o.a.createElement("a",{className:"post_link",href:this.props.topicPost.url,target:"_blank",rel:"noopener noreferrer"},this.props.topicPost.url),o.a.createElement("br",null),o.a.createElement("a",{href:this.props.topicPost.url,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("br",null),o.a.createElement("img",{src:this.props.topicPost.urlToImage,className:"categorypostImage"})),o.a.createElement("br",null)),o.a.createElement("div",{className:"bottomofCard"},o.a.createElement("p",{className:"favorite"},o.a.createElement("img",{src:e,alt:"favorite",name:"favorite",className:"favorite",onClick:this.toggleImage}),"Favorite",o.a.createElement("a",{href:"sms:Text Someone&body=".concat(this.props.topicPost.title,"%0D%0A%0D%0A").concat(this.props.topicPost.url)},o.a.createElement("img",{src:"/imessage.png",alt:"imessage",name:"imessage",className:"iMessage"}),"iMessage"),o.a.createElement("a",{href:"mailto:?subject=".concat(this.props.topicPost.title,"&body=Hey you!%0D%0A%0D%0ACheck out this cool article I found on Fetch:%0D%0A%0D%0A").concat(this.props.topicPost.url)},o.a.createElement("img",{src:"/mail.png",alt:"email",className:"email"}),"Email")),o.a.createElement("p",{className:"sourceinfo"},"Source: ",this.props.topicPost.source.name))))}}]),t}(n.Component),A=Object(C.g)(I),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={categoryPosts:[],categoryName:""},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.location.pathname.split("/").slice(-1)[0];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"topdog"},o.a.createElement("h3",{className:"mainfeedtitle"},"#",t,o.a.createElement("img",{src:"/refresh.png",className:"feedtitleimage",alt:"feedicon",onClick:this.props.fetchFromGoogle})),o.a.createElement("div",{className:"drop"}),this.props.categoryPosts.map((function(t){return o.a.createElement(A,{topicPost:t,key:t.url,categoryName:e.state.categoryName,deletePostFromCategory:e.props.deletePostFromCategory})}))))}}]),t}(n.Component),U=Object(C.g)(x),D=a(59),L=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value))},e.loginLogic=function(){return 0===Object.keys(e.props.currentUser).length?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"topcoolbutton",onClick:function(){return e.props.history.push("/signup")}},o.a.createElement("p",null,"Signup")),o.a.createElement("div",{className:"topcoolbutton",onClick:function(){return e.props.history.push("/login")}},o.a.createElement("p",null,"Login"))):o.a.createElement("div",{className:"profile-nav"},o.a.createElement(D.a,null,o.a.createElement(D.a.Toggle,{variant:"success",id:"dropdown-basic"},o.a.createElement("img",{src:"/missing_avatar.jpg",alt:"avatar"})," ",e.props.currentUser.username),o.a.createElement(D.a.Menu,null,o.a.createElement("p",{className:"dropdown-item",onClick:function(){return e.props.history.push("/profile")}},"Edit Profile"),o.a.createElement("p",{className:"dropdown-item",onClick:e.props.handleLogout},"Logout"))))},e.loginLogicSearch=function(){if(0!==Object.keys(e.props.currentUser).length)return o.a.createElement("div",null,o.a.createElement(b.a.Group,{controlId:"formBasicSearch"},o.a.createElement("center",null,o.a.createElement(b.a.Control,{type:"text",name:"search",placeholder:"Search Topics",onChange:function(t){return e.handleChange(t)},value:e.state.search}))))},e.state={search:""},e}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"topbar"},o.a.createElement(d.b,{to:0===Object.keys(this.props.currentUser).length?"/":"/feed"},o.a.createElement("img",{className:"logo",src:"/public/logo.png",alt:"logo"})),this.loginLogicSearch(),o.a.createElement("div",{className:"right-align-buttons"},this.loginLogic()))}}]),t}(n.Component),G=Object(C.g)(L),z=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).toggleImage=function(){e.setState((function(e){return{favorite:!e.favorite}}))},e.state={favorite:!1},e}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this;e=!0===this.state.favorite?"/heart.png":"/unheart.png";var a=this.props.topicsFollowed.find((function(e){return e.id===t.props.topicPost.topic_id}));return o.a.createElement(o.a.Fragment,null,void 0!==a?o.a.createElement("div",{className:"newmain"},o.a.createElement("img",{src:a.logo,alt:"topic_logo",className:"feeditemslogo",onClick:function(){return t.props.history.push("/topic/".concat(a.topic_title.toLowerCase()))}}),o.a.createElement("div",{className:"caption"},o.a.createElement("b",{onClick:function(){return t.props.history.push("/topic/".concat(a.topic_title.toLowerCase()))}},"#",a.topic_title," "),o.a.createElement("button",{id:this.props.topicPost.id,onClick:function(e){return t.props.deletePostFromTopic(e)},className:"xOut"},"x"),o.a.createElement("p",{className:"date"},"Published on ",new Date(this.props.topicPost.published_at).toString()),o.a.createElement("br",null),this.props.topicPost.caption,o.a.createElement("br",null)," ",o.a.createElement("a",{className:"post_link",href:this.props.topicPost.url,target:"_blank",rel:"noopener noreferrer"},this.props.topicPost.url)," "),o.a.createElement("a",{href:this.props.topicPost.url,target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{src:this.props.topicPost.image_url,className:"feedpostImage"})),o.a.createElement("br",null),o.a.createElement("div",{className:"bottomofCard"},o.a.createElement("p",{className:"favorite"},o.a.createElement("img",{src:e,alt:"favorite",name:"favorite",className:"favorite",onClick:this.toggleImage}),"Favorite",o.a.createElement("a",{href:"sms:Text Someone&body=".concat(this.props.topicPost.caption,"%0D%0A%0D%0A").concat(this.props.topicPost.url)},o.a.createElement("img",{src:"/imessage.png",alt:"imessage",name:"imessage",className:"iMessage"}),"iMessage"),o.a.createElement("a",{href:"mailto:?subject=".concat(this.props.topicPost.caption,"&body=Hey you!%0D%0A%0D%0ACheck out this cool article I found on Fetch:%0D%0A%0D%0A").concat(this.props.topicPost.url)},o.a.createElement("img",{src:"mail.png",alt:"email",className:"email"}),"Email")),o.a.createElement("p",{className:"sourceinfo"},"Source: ",this.props.topicPost.source))):null)}}]),t}(n.Component),B=Object(C.g)(z),J=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"mainfeedtitle"},"Fetch Feed",o.a.createElement("img",{src:"/refresh.png",className:"feedtitleimage",alt:"feedicon",onLoad:this.props.fetchToTopicId,onClick:this.props.fetchToTopicId})),o.a.createElement("div",{className:"drop"}),null!==this.props.allTopicPosts&&0!==this.props.allTopicPosts.length?this.props.allTopicPosts.map((function(t){return o.a.createElement(B,{deletePostFromTopic:e.props.deletePostFromTopic,topicsFollowed:e.props.topicsFollowed,topicPost:t,key:t.id})})):o.a.createElement("div",{className:"lds-dual-ring"}))}}]),t}(n.Component),M=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).fetchToTopicId=function(){console.log(e.state.topicsFollowed),e.state.topicsFollowed.forEach((function(t){console.log(t),fetch("https://fetch-backend-api.herokuapp.com/topics/".concat(t.id),{method:"GET",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(t){var a=t.topic.data.attributes.id,n=t.topic.data.attributes.posts;console.log(n),n=n.map((function(e){return Object(s.a)({},e,{topic_id:a})}));var o=null!==e.state.allTopicPosts?e.state.allTopicPosts.map((function(e){return e.id})):[],r=n.filter((function(e){return!o.includes(e.id)}));null!==e.state.allTopicPosts&&e.setState({allTopicPosts:[].concat(Object(l.a)(e.state.allTopicPosts),Object(l.a)(r))})}))})),console.log("ended")},e.fetchFromGoogle=function(){e.state.topicsFollowed.map((function(t){var a=!0===t.plus?"+":"";fetch("https://newsapi.org/v2/everything?language=".concat(t.language,"&pageSize=").concat(t.page_size,"&q=").concat(a).concat(t.topic_title,"&sortBy=").concat(t.sort_by,"&excludeDomains=slashdot.org&apiKey=07af66c02837407a82106528c10d64c5")).then((function(e){return e.json()})).then((function(a){a.articles.map((function(a){return e.postToOurApi(a,t.id)}))}))}))},e.postToOurApi=function(e,t){fetch("https://fetch-backend-api.herokuapp.com/posts",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({topic_id:t,post:{caption:e.title,source:e.source.name,image_url:e.urlToImage,url:e.url,published_at:e.publishedAt}})}).then((function(e){return e.json()})).then((function(e){e.post&&fetch("https://fetch-backend-api.herokuapp.com/post_topics",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({post_topic:{post_id:e.post.id,topic_id:t}})})}))},e.deletePostFromCategory=function(t){t.preventDefault(),e.setState({categoryPosts:e.state.categoryPosts.filter((function(e){return e.url!==t.target.id}))})},e.deletePostFromTopic=function(t){t.preventDefault(),fetch("https://fetch-backend-api.herokuapp.com/posts/".concat(t.target.id),{method:"delete",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")}}),e.setState({allTopicPosts:e.state.allTopicPosts.filter((function(e){return e.id!==parseInt(t.target.id)}))})},e.handleLoginSubmit=function(t,a){t.preventDefault(),fetch("https://fetch-backend-api.herokuapp.com/login",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({auth:{username:a.username,password:a.password,first_name:a.first_name,last_name:a.last_name}})}).then((function(e){return e.json()})).then((function(t){t.error?document.getElementById("login-error").innerText=t.error:(localStorage.setItem("token",t.jwt),e.setState({currentUser:{id:t.user.data.attributes.id,username:t.user.data.attributes.username,first_name:t.user.data.attributes.first_name,last_name:t.user.data.attributes.last_name}}),e.fetchToTopicId(),e.props.history.push("/feed"))}))},e.updateStateOfTopicsFollowed=function(t){e.setState((function(e){return{topicsFollowed:e.topicsFollowed.concat(t)}}))},e.handleSubmitTopic=function(t,a){t.preventDefault(),""!==a.topic_title?fetch("https://fetch-backend-api.herokuapp.com/add-topic",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({topic:Object(s.a)({},a)})}).then((function(e){return e.json()})).then((function(t){return e.updateStateOfTopicsFollowed([t.topic.data.attributes]),t.topic.data.attributes.id})).then((function(t){e.fetchFromGoogle(t)})).then((function(){e.props.history.push("/feed")})):window.alert("Topic title cannot be empty")},e.handleSignupSubmit=function(t,a){t.preventDefault(),fetch("https://fetch-backend-api.herokuapp.com/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:a})}).then((function(e){return e.json()})).then((function(t){t.error?document.getElementById("login-error").innerText=t.error:(localStorage.setItem("token",t.jwt),e.setState({currentUser:Object(s.a)({id:t.user.data.attributes.id},t.user.data.attributes)}),e.createTopic())}))},e.createTopic=function(){fetch("https://fetch-backend-api.herokuapp.com/add-topic",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({topic:{topic_title:"Trending",logo:"https://cust-images.grenadine.co/grenadine/image/upload/c_fill,f_jpg,g_face,h_1472,w_1472/v0/Kinnektor/QgOV_5613.png",user_id:e.state.currentUser.id,page_size:null,plus:null,sort_by:null}})}).then((function(e){return e.json()})).then((function(t){e.followTrending(t.topic.data.attributes.id)})).then((function(){e.props.history.push("/feed")}))},e.deleteTopic=function(t){t.preventDefault(),fetch("https://fetch-backend-api.herokuapp.com/topics/".concat(t.target.id),{method:"delete",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")}}),e.setState({topicsFollowed:e.state.topicsFollowed.filter((function(e){return e.id!==parseInt(t.target.id)}))}),e.props.history.push("/feed")},e.followTrending=function(t){fetch("http://newsapi.org/v2/top-headlines?pageSize=9&country=us&apiKey=07af66c02837407a82106528c10d64c5").then((function(e){return e.json()})).then((function(a){a.articles.map((function(a){return e.postTrendingTopicToOurApi(a,t)}))}))},e.postTrendingTopicToOurApi=function(t,a){fetch("https://fetch-backend-api.herokuapp.com/posts",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({topic_id:a,post:{caption:t.title,source:t.source.name,image_url:t.urlToImage,url:t.url,published_at:t.publishedAt}})}).then((function(e){return e.json()})).then((function(e){fetch("https://fetch-backend-api.herokuapp.com/post_topics",{method:"POST",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify({post_topic:{post_id:e.post.id,topic_id:a}})})})).then(e.fetchToTopicId())},e.handleLogout=function(){localStorage.clear(),e.setState({currentUser:{},topicsFollowed:[],allTopicPosts:null,categoryPosts:[]}),e.props.history.push("/")},e.state={currentUser:{},loading:!0,topicsFollowed:[],allTopicPosts:[],categoryPosts:[]},e}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://fetch-backend-api.herokuapp.com/re_auth",{method:"GET",headers:{"Content-type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).catch((function(e){return e?window.alert("Turn on the server dumbass"):window.alert("Oh my. Something has gone terribly wrong.")})).then((function(t){void 0!==t.user?e.setState({currentUser:Object(s.a)({id:t.user.data.id},t.user.data.attributes)},(function(){e.setState({loading:!1})})):e.setState({loading:!1})})).catch((function(){}))}},{key:"handleCategoryClick",value:function(e){var t=this;fetch("https://newsapi.org/v2/top-headlines?country=us&category=".concat(e,"&pageSize=9&apiKey=07af66c02837407a82106528c10d64c5")).then((function(e){return e.json()})).then((function(a){return t.setState({categoryPosts:a.articles,categoryName:e})})),this.props.history.push("/category/".concat(e))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement(G,{currentUser:this.state.currentUser,handleLogout:this.handleLogout}),o.a.createElement(C.d,null,o.a.createElement(C.b,{exact:!0,path:"/",component:g}),o.a.createElement(C.b,{exact:!0,path:"/login",render:function(t){return o.a.createElement(v,Object.assign({},t,{handleLoginSubmit:e.handleLoginSubmit}))}}),o.a.createElement(C.b,{exact:!0,path:"/Signup",render:function(t){return o.a.createElement(y,Object.assign({},t,{handleSignupSubmit:e.handleSignupSubmit}))}}),!1===this.state.loading?0!==Object.keys(this.state.currentUser).length?o.a.createElement(o.a.Fragment,null,o.a.createElement(C.b,{exact:!0,path:"/feed",render:function(t){return o.a.createElement(J,Object.assign({},t,{topicsFollowed:e.state.topicsFollowed,fetchFromGoogle:e.fetchFromGoogle,fetchToTopicId:e.fetchToTopicId,allTopicPosts:e.state.allTopicPosts,deletePostFromTopic:e.deletePostFromTopic}))}}),o.a.createElement(C.b,{path:"/category/",render:function(t){return o.a.createElement(U,Object.assign({},t,{currentUser:e.state.currentUser,categoryPosts:e.state.categoryPosts,deletePostFromCategory:e.deletePostFromCategory}))}}),o.a.createElement("div",{className:"category"},o.a.createElement("h3",null,"Categories"),o.a.createElement("br",null),o.a.createElement("p",{onClick:function(t){return e.handleCategoryClick("business")}},"#Business"),o.a.createElement("p",{onClick:function(t){return e.handleCategoryClick("entertainment")}},"#Entertainment"),o.a.createElement("p",{onClick:function(t){return e.handleCategoryClick("general")}},"#General"),o.a.createElement("p",{onClick:function(t){return e.handleCategoryClick("health")}},"#Health"),o.a.createElement("p",{onClick:function(t){return e.handleCategoryClick("science")}},"#Science"),o.a.createElement("p",{onClick:function(t){return e.handleCategoryClick("sports")}},"#Sports"),o.a.createElement("p",{onClick:function(t){return e.handleCategoryClick("technology")}},"#Technology")),o.a.createElement(F,{currentUser:this.state.currentUser,topicsFollowed:this.state.topicsFollowed,updateStateOfTopicsFollowed:this.updateStateOfTopicsFollowed}),o.a.createElement(C.b,{path:"/topic",render:function(t){return o.a.createElement(N,Object.assign({},t,{fetchFromGoogle:e.fetchFromGoogle,topicsFollowed:e.state.topicsFollowed,allTopicPosts:e.state.allTopicPosts,deletePostFromTopic:e.deletePostFromTopic,deleteTopic:e.deleteTopic}))}}),o.a.createElement(C.b,{exact:!0,path:"/add-topic",render:function(t){return o.a.createElement(k,Object.assign({},t,{currentUser:e.state.currentUser,handleSubmitTopic:e.handleSubmitTopic,updateStateOfTopicsFollowed:e.updateStateOfTopicsFollowed}))}}),o.a.createElement(C.b,{exact:!0,path:"/profile",render:function(t){return o.a.createElement(T,Object.assign({},t,{currentUser:e.state.currentUser,handleLogout:e.handleLogout}))}})):o.a.createElement(C.a,{to:"/"}):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"lds-dual-ring"}))),o.a.createElement("img",{src:"/scroll.png",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})},className:"scrollTop",alt:"ScrollTop"}))}}]),t}(n.Component),H=Object(C.g)(M);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(d.a,null,o.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.c15699a4.chunk.js.map